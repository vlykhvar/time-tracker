<?xml version="1.0" encoding="UTF-8"?>

<?import com.svbd.svbd.controller.customfield.NumberField?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<AnchorPane fx:id="anchorPane" prefHeight="650.0" prefWidth="1100.0" styleClass="main-container" xmlns="http://javafx.com/javafx/11.0.14-internal" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.svbd.svbd.controller.MainPageController">
    <children>
        <BorderPane AnchorPane.topAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.bottomAnchor="0.0">
            <top>
                <MenuBar BorderPane.alignment="CENTER">
                    <menus>
                        <Menu mnemonicParsing="false" text="Файл">
                            <items>
                                <MenuItem fx:id="about" mnemonicParsing="false" onAction="#openAbout" text="Про програму" />
                            </items>
                        </Menu>
                        <Menu fx:id="management" mnemonicParsing="false" onAction="#validateUser" text="Управління">
                            <items>
                                <MenuItem mnemonicParsing="false" onAction="#showSettings" text="Налаштування" />
                            </items>
                        </Menu>
                        <Menu mnemonicParsing="false" onAction="#validateUser" text="Звіти">
                            <items>
                                <MenuItem mnemonicParsing="false" onAction="#showReportScene" text="Місячний звіт" />
                            </items>
                        </Menu>
                    </menus>
                </MenuBar>
            </top>
            <center>
                <HBox spacing="20.0" BorderPane.alignment="CENTER">
                    <padding>
                        <Insets top="20.0" right="20.0" bottom="20.0" left="20.0" />
                    </padding>
                    <children>
                        <!-- Left Panel: Cash & Inputs -->
                        <VBox styleClass="left-panel" spacing="12.0" prefWidth="280.0" minWidth="280.0">
                            <padding>
                                <Insets top="20.0" right="20.0" bottom="20.0" left="20.0" />
                            </padding>
                            <children>
                                <VBox spacing="5.0">
                                    <Label text="Каса на ранок:" />
                                    <NumberField fx:id="cashOnMorning" prefHeight="35.0" maxWidth="Infinity" editable="false" />
                                </VBox>

                                <VBox spacing="5.0">
                                    <Label text="Каса прокату:" />
                                    <NumberField fx:id="totalCash" prefHeight="35.0" maxWidth="Infinity" />
                                </VBox>

                                <VBox spacing="5.0">
                                    <Label text="Каса на вечір:" />
                                    <NumberField fx:id="cashOnEvening" prefHeight="35.0" maxWidth="Infinity" />
                                </VBox>

                                <Separator />
                                <VBox spacing="5.0">
                                    <Label text="Каса магазину:" />
                                    <NumberField fx:id="dailyRevenue" prefHeight="35.0" maxWidth="Infinity" />
                                </VBox>

                                <Separator />

                                <VBox spacing="5.0">
                                    <Label text="Таксі:" />
                                    <NumberField fx:id="taxi" prefHeight="35.0" maxWidth="Infinity" />
                                </VBox>
                            </children>
                        </VBox>

                        <!-- Right Panel: Table & Comments -->
                        <VBox HBox.hgrow="ALWAYS" spacing="15.0">
                            <children>
                                <HBox alignment="CENTER_LEFT" spacing="20.0">
                                    <HBox alignment="CENTER_LEFT" spacing="10.0">
                                        <Label text="Дата зміни:" style="-fx-font-weight: bold; -fx-text-fill: -fx-accent-color;" />
                                        <DatePicker fx:id="datePicker" prefHeight="35.0" prefWidth="180.0" />
                                    </HBox>

                                    <Region HBox.hgrow="ALWAYS" /> <!-- Spacer -->

                                    <HBox alignment="CENTER_LEFT" spacing="10.0">
                                        <Label text="Бонус години:" style="-fx-font-weight: bold; -fx-text-fill: -fx-accent-color;" />
                                        <NumberField fx:id="bonusTime" prefHeight="35.0" prefWidth="100.0" />
                                    </HBox>
                                </HBox>

                                <TableView fx:id="shiftEmployeeData" editable="true" VBox.vgrow="ALWAYS" styleClass="table-view">
                                    <columns>
                                        <TableColumn fx:id="shiftRowId" text="ID" visible="false" />
                                        <TableColumn fx:id="employeeId" text="EmpID" visible="false" />
                                        <TableColumn fx:id="employeeName" text="Співробітник" prefWidth="200.0" />
                                        <TableColumn fx:id="startEmployeeShift" text="Початок" prefWidth="100.0" style="-fx-alignment: CENTER;" />
                                        <TableColumn fx:id="endEmployeeShift" text="Кінець" prefWidth="100.0" style="-fx-alignment: CENTER;" />
                                        <TableColumn fx:id="totalWorkTime" text="Робочих годин" prefWidth="120.0" style="-fx-alignment: CENTER;" />
                                    </columns>
                                    <columnResizePolicy>
                                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                    </columnResizePolicy>
                                </TableView>

                                <VBox spacing="5.0">
                                    <Label text="Коментарі:" />
                                    <TextArea fx:id="comments" promptText="Коментарі до зміни..." prefHeight="100.0" wrapText="true" styleClass="text-area" />
                                </VBox>

                                <HBox alignment="BOTTOM_RIGHT" spacing="15.0">
                                    <Button mnemonicParsing="false" onAction="#printOut" text="Сформувати звіт" styleClass="action-button" prefHeight="35.0" prefWidth="150.0" />
                                    <Button fx:id="save" mnemonicParsing="false" onAction="#saveShift" text="Зберегти" styleClass="save-button" prefHeight="35.0" prefWidth="150.0" />
                                </HBox>
                            </children>
                        </VBox>
                    </children>
                </HBox>
            </center>
        </BorderPane>
    </children>
</AnchorPane>
